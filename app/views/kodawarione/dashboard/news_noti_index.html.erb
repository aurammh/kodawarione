<% breadcrumbs_navigation_add (t ('partner_news.title.news_list')), '#' %>
<%= render_partner_breadcrumbs_navigation(t ('partner_news.title.news_list')) %>
<div class="content d-flex flex-column flex-column-fluid" id="kt_content">            
	<div class="container-fluid" id="kt_content_container">
        <!--begin::Partner News List-->
        <div class="card bg-body card-flush h-lg-100">
            <!--begin:::Partner News Card header-->
            <div class="card-header border-0 pt-5">
                <h3 class="card-title align-items-start flex-column">
                <span class="card-label fw-bolder fs-3 mb-1"><%= t ('partner_news.title.news_list') %></span>
                </h3>
            </div>          
            <!--end::Card header-->
            <!--begin::Card body-->
            <div class="card-body pt-2 pb-5">
                <% if @all_partner_news_list.present? %>                 
                    <!--begin::Table container-->
                    <div class="table-responsive d-none d-sm-none d-md-block d-lg-block d-xl-block">
                        <!--begin::Table-->
                        <table class="table table-row-dashed align-middle gs-0 gy-4 my-0">
                        <!--begin::Table head-->
                        <thead class="bg-light">
                            <tr class="fs-7 fw-bolder text-gray-500 border-bottom-0">
                                <th class="ps-4 min-w-140px rounded-start"><%= t('partner_news.title.news_list_col_title') %></th>
                                <th class="text-center min-w-50px"><%= t('partner_news.title.news_type') %></th>
                                <th class="pe-0 min-w-140px"><%= t('partner_news.title.news_list_col_content') %></th>
                                <th class="pe-0 text-end min-w-120px"><%= t('partner_news.title.news_list_col_createdDate') %></th>
                                <th class="rounded-end"></th>
                            </tr>
                        </thead>
                        <!--end::Table head-->
                        <!--begin::Table body-->
                        <tbody>
                            <% @all_partner_news_list.each do |news| %>
                            <tr>
                                <td class="ps-0 min-w-100px w-sm-100px w-md-150px w-lg-250px w-xl-300px">
                                    <div class="w-sm-100px w-md-150px w-lg-250px w-xl-300px text-truncate">
                                        <%= link_to kodawarione_news_noti_detail_path(id: news.id), class: "text-gray-800 fw-bolder text-hover-primary mb-1 fs-6 text-start pe-0" do %><%= news.title %><% end %>
                                    </div>
                                </td>
                                <td class="text-center pe-0">
                                    <span class="badge badge-light-primary"><%= t("partner_news.news_type_options.#{news.news_category}") %></span>
                                </td>
                                <td class="ps-0 min-w-150px w-sm-150px w-md-300px w-lg-400px w-xl-550px">
                                    <div class="w-sm-150px w-md-300px w-lg-400px w-xl-550px text-truncate text-muted">
                                        <%= news.content.to_plain_text %>
                                    </div>
                                </td>
                                <td class="text-end w-125px">
                                    <span class="text-muted fw-bolder d-block w-125px fs-6"><%= l(news.created_at.strftime('%Y-%m-%d').to_date, default: '-') %></span>
                                </td>
                                <td class="pe-0 text-end">
                                    <%= link_to kodawarione_news_noti_detail_path(id: news.id), class: "btn btn-icon btn-active-light-primary w-30px h-30px" do %>
                                    <!--begin::Svg Icon | path: icons/duotune/general/gen019.svg-->
                                    <span class="svg-icon svg-icon-3">
                                    <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none">
                                        <path d="M17.5 11H6.5C4 11 2 9 2 6.5C2 4 4 2 6.5 2H17.5C20 2 22 4 22 6.5C22 9 20 11 17.5 11ZM15 6.5C15 7.9 16.1 9 17.5 9C18.9 9 20 7.9 20 6.5C20 5.1 18.9 4 17.5 4C16.1 4 15 5.1 15 6.5Z" fill="currentColor" />
                                        <path opacity="0.3" d="M17.5 22H6.5C4 22 2 20 2 17.5C2 15 4 13 6.5 13H17.5C20 13 22 15 22 17.5C22 20 20 22 17.5 22ZM4 17.5C4 18.9 5.1 20 6.5 20C7.9 20 9 18.9 9 17.5C9 16.1 7.9 15 6.5 15C5.1 15 4 16.1 4 17.5Z" fill="currentColor" />
                                    </svg>
                                    </span>
                                    <!--end::Svg Icon-->
                                <% end %>                      
                                <!--end::Menu-->
                                </td>
                            </tr>
                            <% end %>
                        </tbody>
                        <!--end::Table body-->
                        </table>
                    </div>
                    <!--end::Table-->
                    <!--begin::Mobile View-->
                    <div class="d-block d-sm-block d-md-none d-lg-none d-xl-none">
                     <% @all_partner_news_list.each do |news| %>
                        <%= link_to (kodawarione_news_noti_detail_path(id: news.id)), class: "text-decoration-none text-dark" do %>                                 
                         <div class="card border border-primary border-4 border-top-0 border-end-0 border-bottom-0 border-start bg-light card-custom gutter-b mb-3">
                             <!--begin::Body-->
                             <div class="card-body p-4">
                             <div class="d-flex align-items-center"> 
                                 <div>
                                 <div class="d-flex justify-content-between">
                                     <div>
                                     <span class="text-gray-400 text-truncate fs-8 fw-bolder w-150px w-sm-400px w-md-600px text-truncate me-2 d-block lh-1 pb-1"><%= news.title %></span>
                                     <span class="text-gray-800 fs-5 fw-bolder"><%= t("partner_news.news_type_options.#{news.news_category}") %></span>
                                     </div>
                                 </div>                                        
                                 <div class="d-flex flex-wrap">
                                     <!--begin::Text-->
                                     <span class="fw-bolder fs-6 w-150px w-sm-300px w-md-500px text-truncate me-2"><i class="flaticon-shapes me-1 text-primary"></i> <%= news.content.to_plain_text.truncate(100) %> </span>
                                     <span class="fw-bold text-gray-600 fs-7"><i class="flaticon-event-calendar-symbol me-1 text-primary"></i><%= l(news.created_at.strftime('%Y-%m-%d').to_date, default: '-') %></span>
                                     <!--end::Text-->                                 
                                 </div>
                                 </div>
                             </div>
                             </div>
                             <!--end::Body-->    
                         </div>
                        <% end %>
                      <% end %>
                    </div>
                    <!--end::Mobile View-->
                <% else %>	
                    <!--begin::Wrapper-->
                    <div class="text-center py-2 my-10">
                        <!--begin::Description-->
                        <p class="text-gray-400 fs-7 fw-bold mb-5"><%= t('common.partner_news_no_data') %></p>
                        <!--end::Description-->
                    </div>
                    <!--end::Wrapper-->					
                <% end %>
            </div>
            <!--end::Card body-->
        </div>
        <!--end:::Partner News List-->
        <!--begin:: Pagination-->
        <% if @all_partner_news_list.present? %>
            <div class="d-flex flex-wrap justify-content-between align-items-center pt-10">
                <div class="d-flex flex-wrap">
                    <%= paginate @all_partner_news_list %>
                </div>
                <div class="d-flex align-items-center py-3">
                    <span class="text-muted"><%=  t('common.list_display')  %> <%= @all_partner_news_list.total_count %> <%=  t('common.to')  %>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <%= @all_partner_news_list.offset_value + 1 %> ~ <%=  @all_partner_news_list.offset_value + @all_partner_news_list.count %> <%=  t('common.search_result')  %></span>
                </div>
            </div>	
        <% end %>
        <!--end: Pagination-->
    </div>
</div>
<%= javascript_pack_tag 'common.js'%>